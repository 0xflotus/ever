<ion-header>
	<ion-toolbar color="var(--ion-color-header)">
		<ion-buttons slot="start">
			<ion-menu-button autoHide="false" color="tertiary"></ion-menu-button>
		</ion-buttons>

		<ion-title color="secondary">{{ 'MERCHANTS' | translate }}</ion-title>
		<ion-buttons slot="end">
			<ion-button (click)="goToProductPage()" color="tertiary">
				<i class="fa fa-angle-left back-btn"></i>
				<span>{{ 'BACK' | translate }}</span>
			</ion-button>
		</ion-buttons>
	</ion-toolbar>
</ion-header>

<ion-content  scroll="true" class="merchants-content">
	<ion-row>
		<ion-col class="col-8 p-0 " offset=".2">
			<ion-searchbar  [(ngModel)]="searchName" mode="ios" color="light" placeholder="Search for Saloon" animated 
				debounce="1000" (ionChange)="searchChange($event)" (ionFocus)="onFocus($event)" (ionBlur) ="onBlur($event)"></ion-searchbar>
		</ion-col>

		<ion-col class="col-3 p-0 " push=".5" >
			<div class="box">
				<button class="button button-assertive border-color-brand col-100" (click)="scanQR()">
					<span>
						<i class="fa order-info-icon  m-0 fa-qrcode"></i> {{
						'SCAN' | translate }}
					</span>
				</button>
			</div>
		</ion-col>
	</ion-row>

	<ion-list class="merchants-list">
		<ion-list-header class="p-0 mb-1">
			<div class="merchants-list-header">
				<span *ngIf="!searchName">{{ 'MERCHANTS_VIEW.CLOSE_TO_YOU' | translate }}</span>
				<span *ngIf="searchName" >{{ 'MERCHANTS_VIEW.WITH_NAME' | translate }} '{{ searchName
					}}'</span>
			</div>
		</ion-list-header>
		<div class="merchants-container">
			<h5 *ngIf="merchants?.length === 0" class="not-found-text">
				{{ 'NOT_FOUND' | translate }}
			</h5>
			<ion-img *ngIf="merchants?.length === 0" src="../../../assets/icons/Not-found-icon.svg" class="not-found-img"></ion-img>
			<ion-item *ngFor="let merchant of merchants" (click)="selectMerchant(merchant)" class="m-2 " lines="none">
				<ion-avatar slot="end">
					<img src="{{ merchant.logo }}" />
				</ion-avatar>
				<ion-label> {{ merchant.name }} </ion-label>
			</ion-item>
		</div>
	</ion-list>
</ion-content>